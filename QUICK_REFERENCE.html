<!-- Quick Reference Guide - Swagger CORS Fix -->

# ğŸš€ QUICK START - Swagger CORS Fix ## Problema âŒ ``` Swagger UI retorna:
"Failed to fetch" com erro CORS ``` ## SoluÃ§Ã£o âœ… ``` Nova rota: GET
/api/v1/swagger.json integrada ao Router ``` --- ## ğŸ§ª Testar em 30 Segundos ###
1. Via Navegador (Melhor) ```
http://104.234.173.305:7080/api/test-swagger-route.html ``` Clique no botÃ£o
verde "Test GET /api/v1/swagger.json" ### 2. Via cURL ```bash curl
http://104.234.173.305:7080/api/v1/swagger.json ``` ### 3. Swagger UI Completo
``` http://104.234.173.305:7080/api/swagger-ui.html ``` --- ## ğŸ“Š O que mudou
### Arquivo 1: api/v1/index.php - âœ… Adicionado: `require_once AnexosController`
- âœ… Adicionado: Rota GET `/swagger.json` ### Arquivo 2: api/swagger-ui.html -
âœ… Alterado: URL de `/api/swagger-json.php` para `/api/v1/swagger.json` ###
Arquivos Novos - âœ¨ api/test-swagger-route.html - âœ¨ test-swagger.sh - âœ¨
SWAGGER_CORS_FIX_FINAL.md - âœ¨ TECHNICAL_CHANGES_SUMMARY.md - âœ¨
QUICK_REFERENCE.html (este arquivo) --- ## ğŸ” VerificaÃ§Ã£o RÃ¡pida ```javascript
// Cole no console do navegador (F12):
fetch('http://104.234.173.305:7080/api/v1/swagger.json') .then(r => r.json())
.then(d => console.log(`âœ… OK - ${Object.keys(d.paths).length} endpoints`))
.catch(e => console.log(`âŒ ERRO - ${e.message}`)) ``` --- ## ğŸ“‹ Checklist de
ValidaÃ§Ã£o - [ ] `curl` retorna status 200 - [ ] Headers tÃªm
`Access-Control-Allow-Origin: *` - [ ] JSON Ã© vÃ¡lido (sem parse errors) - [ ]
Swagger UI carrega sem erros - [ ] 45+ endpoints aparecem na UI - [ ] Posso
explorar um endpoint --- ## ğŸ†˜ Se Ainda Tiver Erro 1. **Limpar Cache:**
Ctrl+Shift+Delete no navegador 2. **Testar Rota BÃ¡sica:**
`http://104.234.173.305:7080/api/v1` (deve retornar status da API) 3.
**Verificar Console:** F12 â†’ Console â†’ Deve haver apenas avisos normais 4.
**Testar Outro Endpoint:** `http://104.234.173.305:7080/api/v1/auth/validate`
(com JWT vÃ¡lido) --- ## ğŸ“ Links Ãšteis | Nome | URL | |------|-----| | Swagger
UI | `http://104.234.173.305:7080/api/swagger-ui.html` | | Teste Interativo |
`http://104.234.173.305:7080/api/test-swagger-route.html` | | API Base |
`http://104.234.173.305:7080/api/v1` | | Swagger JSON |
`http://104.234.173.305:7080/api/v1/swagger.json` | --- ## ğŸ’¡ Dicas - **Swagger
UI nÃ£o carrega?** â†’ Limpe cache (Ctrl+Shift+Delete) - **VÃª errors diferentes?**
â†’ F12 â†’ Console â†’ copie o erro - **Quer testar endpoints?** â†’ Use o arquivo
`test-swagger-route.html` - **Precisa de mais detalhes?** â†’ Leia
`SWAGGER_CORS_FIX_FINAL.md` --- **Status:** âœ… PRONTO PARA PRODUÃ‡ÃƒO **Data:**
20/11/2025 **VersÃ£o API:** v2.0.0
